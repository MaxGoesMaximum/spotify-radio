{"numFailedTestSuites":2,"numFailedTests":0,"numPassedTestSuites":6,"numPassedTests":43,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":43,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1772406090526,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Weather API validation"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Weather API validation rate limiter should be called with weather key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094075,"status":"passed","title":"rate limiter should be called with weather key"},{"ancestorTitles":["Weather API validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Weather API validation rate limiter should reject when limit exceeded","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094082,"status":"passed","title":"rate limiter should reject when limit exceeded"}],"endTime":1772406094084,"message":"","name":"C:\\SpotifyRadio\\src\\app\\api\\weather\\route.test.ts","startTime":1772406092845,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["rateLimit"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit allows requests within the limit","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094108,"status":"passed","title":"allows requests within the limit"},{"ancestorTitles":["rateLimit"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit blocks requests over the limit","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094115,"status":"passed","title":"blocks requests over the limit"},{"ancestorTitles":["rateLimit"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit tracks remaining correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094116,"status":"passed","title":"tracks remaining correctly"},{"ancestorTitles":["rateLimit"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimit uses separate counters for different keys","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094117,"status":"passed","title":"uses separate counters for different keys"},{"ancestorTitles":["rateLimitHeaders"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimitHeaders returns correct headers for successful request","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094118,"status":"passed","title":"returns correct headers for successful request"},{"ancestorTitles":["rateLimitHeaders"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"rateLimitHeaders includes Retry-After for blocked request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094119,"status":"passed","title":"includes Retry-After for blocked request"}],"endTime":1772406094121,"message":"","name":"C:\\SpotifyRadio\\src\\lib\\__tests__\\rate-limit.test.ts","startTime":1772406092880,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["env validation"],"duration":42,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"env validation should throw when required env vars are missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094082,"status":"passed","title":"should throw when required env vars are missing"},{"ancestorTitles":["env validation"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"env validation should not throw when all required vars are present","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094125,"status":"passed","title":"should not throw when all required vars are present"},{"ancestorTitles":["env validation"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"env validation should warn about weak NEXTAUTH_SECRET","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094128,"status":"passed","title":"should warn about weak NEXTAUTH_SECRET"}],"endTime":1772406094135,"message":"","name":"C:\\SpotifyRadio\\src\\lib\\__tests__\\env.test.ts","startTime":1772406092871,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["useRadioStore"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore has correct default values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1772406094134,"status":"passed","title":"has correct default values"},{"ancestorTitles":["useRadioStore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore sets playing state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094141,"status":"passed","title":"sets playing state"},{"ancestorTitles":["useRadioStore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore sets volume and persists to localStorage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094142,"status":"passed","title":"sets volume and persists to localStorage"},{"ancestorTitles":["useRadioStore"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore toggles favorites","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094143,"status":"passed","title":"toggles favorites"},{"ancestorTitles":["useRadioStore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore increments skip count","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094145,"status":"passed","title":"increments skip count"},{"ancestorTitles":["useRadioStore"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore increments session track count","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094146,"status":"passed","title":"increments session track count"},{"ancestorTitles":["useRadioStore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore manages queue correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094147,"status":"passed","title":"manages queue correctly"},{"ancestorTitles":["useRadioStore"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore sets genre and clears queue","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094148,"status":"passed","title":"sets genre and clears queue"},{"ancestorTitles":["useRadioStore"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"useRadioStore limits song history to 50 entries","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094148,"status":"passed","title":"limits song history to 50 entries"}],"endTime":1772406094153,"message":"","name":"C:\\SpotifyRadio\\src\\store\\__tests__\\radio-store.test.ts","startTime":1772406092893,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1772406094318,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Cannot find module '@testing-library/dom' from 'node_modules/@testing-library/react/dist/pure.js'\n\n    Require stack:\n      node_modules/@testing-library/react/dist/pure.js\n      node_modules/@testing-library/react/dist/index.js\n      src/components/__tests__/Skeleton.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mSkeleton\u001b[39m\u001b[33m,\u001b[39m \u001b[33mSkeletonCard\u001b[39m\u001b[33m,\u001b[39m \u001b[33mSkeletonRadioPlayer\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m\"../ui/Skeleton\"\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m  8 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m describe(\u001b[32m\"Skeleton\"\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   it(\u001b[32m\"renders with default class\"\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 11 |\u001b[39m     \u001b[36mconst\u001b[39m { container } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mSkeleton\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m     \u001b[36mconst\u001b[39m el \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mfirstChild \u001b[36mas\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/index.js\u001b[2m:863:11)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:46:12)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mnode_modules/@testing-library/react/dist/index.js\u001b[2m:7:13)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36msrc/components/__tests__/Skeleton.test.tsx\u001b[39m\u001b[0m\u001b[2m:9:17)\u001b[22m\n","name":"C:\\SpotifyRadio\\src\\components\\__tests__\\Skeleton.test.tsx","startTime":1772406094318,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1772406094318,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Cannot find module '@testing-library/dom' from 'node_modules/@testing-library/react/dist/pure.js'\n\n    Require stack:\n      node_modules/@testing-library/react/dist/pure.js\n      node_modules/@testing-library/react/dist/index.js\n      src/components/__tests__/ErrorBoundary.test.tsx\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mErrorBoundary\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m\"../ErrorBoundary\"\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m  9 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m \u001b[90m// Component that throws\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m \u001b[36mfunction\u001b[39m \u001b[33mThrowingComponent\u001b[39m({ shouldThrow }\u001b[33m:\u001b[39m { shouldThrow\u001b[33m:\u001b[39m boolean }) {\n     \u001b[90m 12 |\u001b[39m   \u001b[36mif\u001b[39m (shouldThrow) \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m\"Test error message\"\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[33mContent\u001b[39m rendered\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/index.js\u001b[2m:863:11)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mnode_modules/@testing-library/react/dist/pure.js\u001b[2m:46:12)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mnode_modules/@testing-library/react/dist/index.js\u001b[2m:7:13)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36msrc/components/__tests__/ErrorBoundary.test.tsx\u001b[39m\u001b[0m\u001b[2m:10:17)\u001b[22m\n","name":"C:\\SpotifyRadio\\src\\components\\__tests__\\ErrorBoundary.test.tsx","startTime":1772406094318,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Favorites API validation"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Favorites API validation should accept valid favorite data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094184,"status":"passed","title":"should accept valid favorite data"},{"ancestorTitles":["Favorites API validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Favorites API validation should reject missing trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094191,"status":"passed","title":"should reject missing trackId"},{"ancestorTitles":["Favorites API validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Favorites API validation should reject empty trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094193,"status":"passed","title":"should reject empty trackId"},{"ancestorTitles":["Favorites API validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Favorites API validation should reject missing required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094193,"status":"passed","title":"should reject missing required fields"},{"ancestorTitles":["Favorites API validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Favorites API validation should accept optional albumImage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094194,"status":"passed","title":"should accept optional albumImage"}],"endTime":1772406094196,"message":"","name":"C:\\SpotifyRadio\\src\\app\\api\\user\\__tests__\\favorites.test.ts","startTime":1772406092864,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["updatePreferencesSchema"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"updatePreferencesSchema accepts valid partial preferences","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094215,"status":"passed","title":"accepts valid partial preferences"},{"ancestorTitles":["updatePreferencesSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"updatePreferencesSchema accepts empty object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094220,"status":"passed","title":"accepts empty object"},{"ancestorTitles":["updatePreferencesSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"updatePreferencesSchema rejects invalid volume","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094221,"status":"passed","title":"rejects invalid volume"},{"ancestorTitles":["updatePreferencesSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"updatePreferencesSchema rejects negative volume","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094222,"status":"passed","title":"rejects negative volume"},{"ancestorTitles":["addFavoriteSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addFavoriteSchema accepts valid favorite","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094222,"status":"passed","title":"accepts valid favorite"},{"ancestorTitles":["addFavoriteSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addFavoriteSchema rejects missing trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094223,"status":"passed","title":"rejects missing trackId"},{"ancestorTitles":["addFavoriteSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addFavoriteSchema rejects empty trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094223,"status":"passed","title":"rejects empty trackId"},{"ancestorTitles":["removeFavoriteSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"removeFavoriteSchema accepts valid trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094224,"status":"passed","title":"accepts valid trackId"},{"ancestorTitles":["removeFavoriteSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"removeFavoriteSchema rejects empty trackId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094224,"status":"passed","title":"rejects empty trackId"},{"ancestorTitles":["addHistorySchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addHistorySchema accepts valid history entry","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094225,"status":"passed","title":"accepts valid history entry"},{"ancestorTitles":["addHistorySchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addHistorySchema accepts without optional durationMs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094226,"status":"passed","title":"accepts without optional durationMs"},{"ancestorTitles":["addHistorySchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"addHistorySchema rejects negative durationMs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094226,"status":"passed","title":"rejects negative durationMs"},{"ancestorTitles":["weatherQuerySchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"weatherQuerySchema accepts valid coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094226,"status":"passed","title":"accepts valid coordinates"},{"ancestorTitles":["weatherQuerySchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"weatherQuerySchema coerces string to number","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772406094227,"status":"passed","title":"coerces string to number"},{"ancestorTitles":["weatherQuerySchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"weatherQuerySchema rejects out-of-range latitude","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094227,"status":"passed","title":"rejects out-of-range latitude"},{"ancestorTitles":["paginationSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"paginationSchema accepts valid pagination","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094228,"status":"passed","title":"accepts valid pagination"},{"ancestorTitles":["paginationSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"paginationSchema defaults to page 1 and limit 20","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772406094229,"status":"passed","title":"defaults to page 1 and limit 20"},{"ancestorTitles":["paginationSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"paginationSchema rejects limit over 100","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772406094229,"status":"passed","title":"rejects limit over 100"}],"endTime":1772406094231,"message":"","name":"C:\\SpotifyRadio\\src\\lib\\__tests__\\validations.test.ts","startTime":1772406092849,"status":"passed","summary":""}],"wasInterrupted":false}
